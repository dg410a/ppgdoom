ACTOR PPGChainsawSpawner : CustomInventory replaces Chainsaw
{
   const int PFlags = SXF_NOCHECKPOSITION|SXF_CLEARCALLERTID|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_TRANSFERPOINTERS;
   +ALWAYSPICKUP
   +QUIET
   -COUNTITEM
   +NOTELESTOMP
   +NOTONAUTOMAP
   RenderStyle None
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_JumpIf(CallACS("GunModeChecker") == True,"GunModeOn")
		Goto GunModeOff
	GunModeOn:
		TNT1 A 0 A_SpawnItemEx("Glock18",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
		Goto End
	GunModeOff:
		TNT1 A 0 A_SpawnItemEx("PPGFistsUpgrade",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
	End:
		TNT1 A 1
		Stop
	}
}


ACTOR PPGShotgunSpawner : CustomInventory replaces Shotgun
{
   const int PFlags = SXF_NOCHECKPOSITION|SXF_CLEARCALLERTID|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_TRANSFERPOINTERS;
   +ALWAYSPICKUP
   +QUIET
   -COUNTITEM
   +NOTELESTOMP
   +NOTONAUTOMAP
   RenderStyle None
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_JumpIf(CallACS("GunModeChecker") == True,"GunModeOn")
		Goto GunModeOff
	GunModeOn:
		TNT1 A 0 A_SpawnItemEx("PPGShotgun",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
		TNT1 A 0 A_SpawnItemEx("PPGSuperpower1",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
		Goto End
	GunModeOff:
		TNT1 A 0 A_SpawnItemEx("PPGSuperpower1",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
	End:
		TNT1 A 1
		Stop
	}
}

ACTOR PPGSuperShotgunSpawner : CustomInventory replaces SuperShotgun
{
   const int PFlags = SXF_NOCHECKPOSITION|SXF_CLEARCALLERTID|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_TRANSFERPOINTERS;
   +ALWAYSPICKUP
   +QUIET
   -COUNTITEM
   +NOTELESTOMP
   +NOTONAUTOMAP
   RenderStyle None
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_JumpIf(CallACS("GunModeChecker") == True,"GunModeOn")
		Goto GunModeOff
	GunModeOn:
		TNT1 A 0 A_SpawnItemEx("PPGShotgun",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
		TNT1 A 0 A_SpawnItemEx("PPGSuperpower2",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
		Goto End
	GunModeOff:
		TNT1 A 0 A_SpawnItemEx("PPGSuperpower2",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
	End:
		TNT1 A 1
		Stop
	}
}

ACTOR PPGChaingunSpawner : CustomInventory replaces Chaingun
{
   const int PFlags = SXF_NOCHECKPOSITION|SXF_CLEARCALLERTID|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_TRANSFERPOINTERS;
   +ALWAYSPICKUP
   +QUIET
   -COUNTITEM
   +NOTELESTOMP
   +NOTONAUTOMAP
   RenderStyle None
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_JumpIf(CallACS("GunModeChecker") == True,"GunModeOn")
		Goto GunModeOff
	GunModeOn:
		TNT1 A 0 A_SpawnItemEx("M4A1",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
		TNT1 A 0 A_SpawnItemEx("PPGSuperpower3",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
		Goto End
	GunModeOff:
		TNT1 A 0 A_SpawnItemEx("PPGSuperpower3",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
	End:
		TNT1 A 1
		Stop
	}
}

ACTOR PPGRocketLauncherSpawner : CustomInventory replaces RocketLauncher
{
   const int PFlags = SXF_NOCHECKPOSITION|SXF_CLEARCALLERTID|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_TRANSFERPOINTERS;
   +ALWAYSPICKUP
   +QUIET
   -COUNTITEM
   +NOTELESTOMP
   +NOTONAUTOMAP
   RenderStyle None
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_JumpIf(CallACS("GunModeChecker") == True,"GunModeOn")
		Goto GunModeOff
	GunModeOn:
		TNT1 A 0 A_SpawnItemEx("AA12",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
		TNT1 A 0 A_SpawnItemEx("PPGSuperpower4",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
		Goto End
	GunModeOff:
		TNT1 A 0 A_SpawnItemEx("PPGSuperpower4",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
	End:
		TNT1 A 1
		Stop
	}
}

ACTOR PPGClipSpawner : CustomInventory replaces Clip
{
   const int PFlags = SXF_NOCHECKPOSITION|SXF_CLEARCALLERTID|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_TRANSFERPOINTERS;
   +ALWAYSPICKUP
   +QUIET
   -COUNTITEM
   +NOTELESTOMP
   +NOTONAUTOMAP
   RenderStyle None
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_JumpIf(CallACS("GunModeChecker") == True,"GunModeOn")
		Goto GunModeOff
	GunModeOn:
		TNT1 A 0 A_SpawnItemEx("PPGClip",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
		Goto End
	GunModeOff:
		TNT1 A 0 A_SpawnItemEx("PPGEnergyClip",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
	End:
		TNT1 A 1
		Stop
	}
}

ACTOR PPGClipDropper : PPGClipSpawner
{
	States
	{
	GunModeOn:
		TNT1 A 0 A_Jump(128,2)
		TNT1 A 0 A_SpawnItemEx("PPGEnergyClip",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
		TNT1 A 0 A_SpawnItemEx("PPGClip",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
		Goto End
	}
}

ACTOR PPGClipBoxSpawner : CustomInventory replaces ClipBox
{
   const int PFlags = SXF_NOCHECKPOSITION|SXF_CLEARCALLERTID|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_TRANSFERPOINTERS;
   +ALWAYSPICKUP
   +QUIET
   -COUNTITEM
   +NOTELESTOMP
   +NOTONAUTOMAP
   RenderStyle None
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_JumpIf(CallACS("GunModeChecker") == True,"GunModeOn")
		Goto GunModeOff
	GunModeOn:
		TNT1 A 0 A_SpawnItemEx("M4A1Ammo",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
		Goto End
	GunModeOff:
		TNT1 A 0 A_SpawnItemEx("PPGEnergyClipBox",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
	End:
		TNT1 A 1
		Stop
	}
}

ACTOR PPGClipBoxDropper : PPGClipBoxSpawner
{
	States
	{
	GunModeOn:
		TNT1 A 0 A_Jump(128,2)
		TNT1 A 0 A_SpawnItemEx("PPGEnergyClipBox",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
		TNT1 A 0 A_SpawnItemEx("M4A1Ammo",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
		Goto End
	}
}

ACTOR PPGShellSpawner : CustomInventory replaces Shell
{
   const int PFlags = SXF_NOCHECKPOSITION|SXF_CLEARCALLERTID|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_TRANSFERPOINTERS;
   +ALWAYSPICKUP
   +QUIET
   -COUNTITEM
   +NOTELESTOMP
   +NOTONAUTOMAP
   RenderStyle None
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_JumpIf(CallACS("GunModeChecker") == True,"GunModeOn")
		Goto GunModeOff
	GunModeOn:
		TNT1 A 0 A_SpawnItemEx("PPGShell",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
		Goto End
	GunModeOff:
		TNT1 A 0 A_SpawnItemEx("PPGEnergy",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
	End:
		TNT1 A 1
		Stop
	}
}

ACTOR PPGShellDropper : PPGShellSpawner
{
	States
	{
	GunModeOn:
		TNT1 A 0 A_Jump(128,2)
		TNT1 A 0 A_SpawnItemEx("PPGEnergy",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
		TNT1 A 0 A_SpawnItemEx("PPGShell",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
		Goto End
	}
}

ACTOR PPGShellBoxSpawner : CustomInventory replaces ShellBox
{
   const int PFlags = SXF_NOCHECKPOSITION|SXF_CLEARCALLERTID|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_TRANSFERPOINTERS;
   +ALWAYSPICKUP
   +QUIET
   -COUNTITEM
   +NOTELESTOMP
   +NOTONAUTOMAP
   RenderStyle None
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_JumpIf(CallACS("GunModeChecker") == True,"GunModeOn")
		Goto GunModeOff
	GunModeOn:
		TNT1 A 0 A_SpawnItemEx("PPGShellBox",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
		Goto End
	GunModeOff:
		TNT1 A 0 A_SpawnItemEx("PPGEnergyBig",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
	End:
		TNT1 A 1
		Stop
	}
}

ACTOR PPGShellBoxDropper : PPGShellBoxSpawner
{
	States
	{
	GunModeOn:
		TNT1 A 0 A_Jump(128,2)
		TNT1 A 0 A_SpawnItemEx("PPGEnergyBig",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
		TNT1 A 0 A_SpawnItemEx("PPGShellBox",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
		Goto End
	}
}

ACTOR PPGRocketAmmoSpawner : CustomInventory replaces RocketAmmo
{
   const int PFlags = SXF_NOCHECKPOSITION|SXF_CLEARCALLERTID|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_TRANSFERPOINTERS;
   +ALWAYSPICKUP
   +QUIET
   -COUNTITEM
   +NOTELESTOMP
   +NOTONAUTOMAP
   RenderStyle None
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_JumpIf(CallACS("GunModeChecker") == True,"GunModeOn")
		Goto GunModeOff
	GunModeOn:
		TNT1 A 0 A_SpawnItemEx("PPGRocketAmmo",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
		Goto End
	GunModeOff:
		TNT1 A 0 A_SpawnItemEx("PPGEnergyRocketAmmo",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
	End:
		TNT1 A 1
		Stop
	}
}

ACTOR PPGRocketAmmoDropper : PPGRocketAmmoSpawner
{
	States
	{
	GunModeOn:
		TNT1 A 0 A_Jump(128,2)
		TNT1 A 0 A_SpawnItemEx("PPGEnergyRocketAmmo",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
		TNT1 A 0 A_SpawnItemEx("PPGRocketAmmo",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
		Goto End
	}
}

ACTOR PPGRocketBoxSpawner : CustomInventory replaces RocketBox
{
   const int PFlags = SXF_NOCHECKPOSITION|SXF_CLEARCALLERTID|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_TRANSFERPOINTERS;
   +ALWAYSPICKUP
   +QUIET
   -COUNTITEM
   +NOTELESTOMP
   +NOTONAUTOMAP
   RenderStyle None
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_JumpIf(CallACS("GunModeChecker") == True,"GunModeOn")
		Goto GunModeOff
	GunModeOn:
		TNT1 A 0 A_SpawnItemEx("AA12Ammo",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
		Goto End
	GunModeOff:
		TNT1 A 0 A_SpawnItemEx("PPGEnergyRocketBox",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
	End:
		TNT1 A 1
		Stop
	}
}

ACTOR PPGRocketBoxDropper : PPGRocketBoxSpawner
{
	States
	{
	GunModeOn:
		TNT1 A 0 A_Jump(128,2)
		TNT1 A 0 A_SpawnItemEx("PPGEnergyRocketBox",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
		TNT1 A 0 A_SpawnItemEx("AA12Ammo",0,0,0,0,0,0,random(0,359),PFlags,0,tid)
		Goto End
	}
}

ACTOR PPGClip : Ammo { 
	//$Category ammunition
	Inventory.PickupMessage "Picked up a 9mm clip."
	Inventory.MaxAmount 300
	Inventory.Amount	10
	Ammo.BackpackAmount 5
	Ammo.BackpackMaxAmount 300
	States
	{
	Spawn:
		CLIP A -1
		Loop
	}
}

ACTOR PPGClipBox : PPGClip { 
	Inventory.PickupMessage "Picked up a box of 9mm ammo."
	Inventory.Amount	25
	States
	{
	Spawn:
		AMMO A -1
		Loop
	}
}

ACTOR PPGShell : Ammo { 
	//$Category ammunition
	Inventory.PickupMessage "Picked up a 12 gauge shotgun shell."
	Inventory.MaxAmount 50
	Inventory.Amount	1
	Ammo.BackpackAmount 1
	Ammo.BackpackMaxAmount 50
	States
	{
	Spawn:
		SHEL A -1
		Loop
	}
}

ACTOR PPGShellBox : PPGShell { 
	Inventory.PickupMessage "Picked up a box of shotgun shells."
	Inventory.Amount 10 
	States
	{
	Spawn:
		SBOX A -1
		Loop
	}
}

ACTOR PPGRocketAmmo : RocketAmmo {}

ACTOR PPGRocketBox : RocketBox {}