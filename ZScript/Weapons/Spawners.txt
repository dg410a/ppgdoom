Class PPGChainsawSpawner : CustomInventory replaces Chainsaw
{
	const PFlags = SXF_NOCHECKPOSITION|SXF_CLEARCALLERTID|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_TRANSFERPOINTERS;
	Default {
		+INVENTORY.ALWAYSPICKUP
		+INVENTORY.QUIET
		-COUNTITEM
		+NOTELESTOMP
		+NOTONAUTOMAP
		RenderStyle "None";
	}
	States
	{
	Spawn:
		TNT1 A 0;
		TNT1 A 0 A_JumpIf(CallACS("GunModeChecker") == True,"GunModeOn");
		Goto GunModeOff;
	GunModeOn:
		TNT1 A 0 A_SpawnItemEx("Glock18Pickup",0,0,0,0,0,0,random(0,359),PFlags,0,tid);
		Goto End;
	GunModeOff:
		TNT1 A 0 A_SpawnItemEx("PPGFistsUpgrade",0,0,0,0,0,0,random(0,359),PFlags,0,tid);
	End:
		TNT1 A 1;
		Stop;
	}
}


Class PPGShotgunSpawner : CustomInventory replaces Shotgun
{
	const PFlags = SXF_NOCHECKPOSITION|SXF_CLEARCALLERTID|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_TRANSFERPOINTERS;
	Default {
		+INVENTORY.ALWAYSPICKUP
		+INVENTORY.QUIET
		-COUNTITEM
		+NOTELESTOMP
		+NOTONAUTOMAP
		RenderStyle "None";
	}
	States
	{
	Spawn:
		TNT1 A 0;
		TNT1 A 0 A_JumpIf(CallACS("GunModeChecker") == True,"GunModeOn");
		Goto GunModeOff;
	GunModeOn:
		TNT1 A 0 A_SpawnItemEx("PPGShotgunPickup",0,0,0,0,0,0,random(0,359),PFlags,0,tid);
		TNT1 A 0 A_Jump(255,"Superpower"); //,"End");
	Superpower:
		TNT1 A 0 A_SpawnItemEx("PPGSuperpower1",0,0,0,0,0,0,random(0,359),PFlags,0,tid);
		Goto End;
	GunModeOff:
		TNT1 A 0 A_SpawnItemEx("PPGSuperpower1",0,0,0,0,0,0,random(0,359),PFlags,0,tid);
	End:
		TNT1 A 1;
		Stop;
	}
}

Class PPGSuperShotgunSpawner : CustomInventory replaces SuperShotgun
{
	const PFlags = SXF_NOCHECKPOSITION|SXF_CLEARCALLERTID|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_TRANSFERPOINTERS;
	Default {
		+INVENTORY.ALWAYSPICKUP
		+INVENTORY.QUIET
		-COUNTITEM
		+NOTELESTOMP
		+NOTONAUTOMAP
		RenderStyle "None";
	}
	States
	{
	Spawn:
		TNT1 A 0;
		TNT1 A 0 A_JumpIf(CallACS("GunModeChecker") == True,"GunModeOn");
		Goto GunModeOff;
	GunModeOn:
		TNT1 A 0 A_SpawnItemEx("PPGShotgunPickup",0,0,0,0,0,0,random(0,359),PFlags,0,tid);
		TNT1 A 0 A_Jump(255,"Superpower"); //,"End");
	Superpower:
		TNT1 A 0 A_SpawnItemEx("PPGSuperpower2",0,0,0,0,0,0,random(0,359),PFlags,0,tid);
		Goto End;
	GunModeOff:
		TNT1 A 0 A_SpawnItemEx("PPGSuperpower2",0,0,0,0,0,0,random(0,359),PFlags,0,tid);
	End:
		TNT1 A 1;
		Stop;
	}
}

Class PPGChaingunSpawner : CustomInventory replaces Chaingun
{
	const PFlags = SXF_NOCHECKPOSITION|SXF_CLEARCALLERTID|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_TRANSFERPOINTERS;
	Default {
		+INVENTORY.ALWAYSPICKUP
		+INVENTORY.QUIET
		-COUNTITEM
		+NOTELESTOMP
		+NOTONAUTOMAP
		RenderStyle "None";
	}
	States
	{
	Spawn:
		TNT1 A 0;
		TNT1 A 0 A_JumpIf(CallACS("GunModeChecker") == True,"GunModeOn");
		Goto GunModeOff;
	GunModeOn:
		TNT1 A 0 A_SpawnItemEx("M4A1Pickup",0,0,0,0,0,0,random(0,359),PFlags,0,tid);
		TNT1 A 0 A_Jump(255,"Superpower"); //,"End");
	Superpower:
		TNT1 A 0 A_SpawnItemEx("PPGSuperpower3",0,0,0,0,0,0,random(0,359),PFlags,0,tid);
		Goto End;
	GunModeOff:
		TNT1 A 0 A_SpawnItemEx("PPGSuperpower3",0,0,0,0,0,0,random(0,359),PFlags,0,tid);
	End:
		TNT1 A 1;
		Stop;
	}
}

Class PPGRocketLauncherSpawner : CustomInventory replaces RocketLauncher
{
	const PFlags = SXF_NOCHECKPOSITION|SXF_CLEARCALLERTID|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_TRANSFERPOINTERS;
	Default {
		+INVENTORY.ALWAYSPICKUP
		+INVENTORY.QUIET
		-COUNTITEM
		+NOTELESTOMP
		+NOTONAUTOMAP
		RenderStyle "None";
	}
	States
	{
	Spawn:
		TNT1 A 0;
		TNT1 A 0 A_JumpIf(CallACS("GunModeChecker") == True,"GunModeOn");
		Goto GunModeOff;
	GunModeOn:
		TNT1 A 0 A_SpawnItemEx("AA12Pickup",0,0,0,0,0,0,random(0,359),PFlags,0,tid);
		TNT1 A 0 A_Jump(255,"Superpower"); //,"End");
	Superpower:
		TNT1 A 0 A_SpawnItemEx("PPGSuperpower4",0,0,0,0,0,0,random(0,359),PFlags,0,tid);
		Goto End;
	GunModeOff:
		TNT1 A 0 A_SpawnItemEx("PPGSuperpower4",0,0,0,0,0,0,random(0,359),PFlags,0,tid);
	End:
		TNT1 A 1;
		Stop;
	}
}

Class PPGClipSpawner : CustomInventory replaces Clip
{
	const PFlags = SXF_NOCHECKPOSITION|SXF_CLEARCALLERTID|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_TRANSFERPOINTERS;
	Default {
		+INVENTORY.ALWAYSPICKUP
		+INVENTORY.QUIET
		-COUNTITEM
		+NOTELESTOMP
		+NOTONAUTOMAP
		RenderStyle "None";
	}
	States
	{
	Spawn:
		TNT1 A 0;
		TNT1 A 0 A_JumpIf(CallACS("GunModeChecker") == True,"GunModeOn");
		Goto GunModeOff;
	GunModeOn:
		TNT1 A 0 A_SpawnItemEx("PPGClip",0,0,0,0,0,0,random(0,359),PFlags,0,tid);
		Goto End;
	GunModeOff:
		TNT1 A 0 A_SpawnItemEx("PPGEnergyClip",0,0,0,0,0,0,random(0,359),PFlags,0,tid);
	End:
		TNT1 A 1;
		Stop;
	}
}

Class PPGClipBoxSpawner : CustomInventory replaces ClipBox
{
	const PFlags = SXF_NOCHECKPOSITION|SXF_CLEARCALLERTID|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_TRANSFERPOINTERS;
	Default {
		+INVENTORY.ALWAYSPICKUP
		+INVENTORY.QUIET
		-COUNTITEM
		+NOTELESTOMP
		+NOTONAUTOMAP
		RenderStyle "None";
	}
	States
	{
	Spawn:
		TNT1 A 0;
		TNT1 A 0 A_JumpIf(CallACS("GunModeChecker") == True,"GunModeOn");
		Goto GunModeOff;
	GunModeOn:
		TNT1 A 0 A_SpawnItemEx("M4A1Ammo",0,0,0,0,0,0,random(0,359),PFlags,0,tid);
		Goto End;
	GunModeOff:
		TNT1 A 0 A_SpawnItemEx("PPGEnergyClipBox",0,0,0,0,0,0,random(0,359),PFlags,0,tid);
	End:
		TNT1 A 1;
		Stop;
	}
}

Class PPGShellSpawner : CustomInventory replaces Shell
{
	const PFlags = SXF_NOCHECKPOSITION|SXF_CLEARCALLERTID|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_TRANSFERPOINTERS;
	Default {
		+INVENTORY.ALWAYSPICKUP
		+INVENTORY.QUIET
		-COUNTITEM
		+NOTELESTOMP
		+NOTONAUTOMAP
		RenderStyle "None";
	}
	States
	{
	Spawn:
		TNT1 A 0;
		TNT1 A 0 A_JumpIf(CallACS("GunModeChecker") == True,"GunModeOn");
		Goto GunModeOff;
	GunModeOn:
		TNT1 A 0 A_SpawnItemEx("PPGShell",0,0,0,0,0,0,random(0,359),PFlags,0,tid);
		Goto End;
	GunModeOff:
		TNT1 A 0 A_SpawnItemEx("PPGEnergySmall",0,0,0,0,0,0,random(0,359),PFlags,0,tid);
	End:
		TNT1 A 1;
		Stop;
	}
}

Class PPGShellBoxSpawner : CustomInventory replaces ShellBox
{
	const PFlags = SXF_NOCHECKPOSITION|SXF_CLEARCALLERTID|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_TRANSFERPOINTERS;
	Default {
		+INVENTORY.ALWAYSPICKUP
		+INVENTORY.QUIET
		-COUNTITEM
		+NOTELESTOMP
		+NOTONAUTOMAP
		RenderStyle "None";
	}
	States
	{
	Spawn:
		TNT1 A 0;
		TNT1 A 0 A_JumpIf(CallACS("GunModeChecker") == True,"GunModeOn");
		Goto GunModeOff;
	GunModeOn:
		TNT1 A 0 A_SpawnItemEx("PPGShellBox",0,0,0,0,0,0,random(0,359),PFlags,0,tid);
		Goto End;
	GunModeOff:
		TNT1 A 0 A_SpawnItemEx("PPGEnergyBig",0,0,0,0,0,0,random(0,359),PFlags,0,tid);
	End:
		TNT1 A 1;
		Stop;
	}
}

Class PPGRocketAmmoSpawner : CustomInventory replaces RocketAmmo
{
	const PFlags = SXF_NOCHECKPOSITION|SXF_CLEARCALLERTID|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_TRANSFERPOINTERS;
	Default {
		+INVENTORY.ALWAYSPICKUP
		+INVENTORY.QUIET
		-COUNTITEM
		+NOTELESTOMP
		+NOTONAUTOMAP
		RenderStyle "None";
	}
	States
	{
	Spawn:
		TNT1 A 0;
		TNT1 A 0 A_JumpIf(CallACS("GunModeChecker") == True,"GunModeOn");
		Goto GunModeOff;
	GunModeOn:
		TNT1 A 0 A_SpawnItemEx("AA12Ammo",0,0,0,0,0,0,random(0,359),PFlags,0,tid);
		Goto End;
	GunModeOff:
		TNT1 A 0 A_SpawnItemEx("PPGEnergyRocketAmmo",0,0,0,0,0,0,random(0,359),PFlags,0,tid);
	End:
		TNT1 A 1;
		Stop;
	}
}

Class PPGRocketBoxSpawner : CustomInventory replaces RocketBox
{
	const PFlags = SXF_NOCHECKPOSITION|SXF_CLEARCALLERTID|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_TRANSFERPOINTERS;
	Default {
		+INVENTORY.ALWAYSPICKUP
		+INVENTORY.QUIET
		-COUNTITEM
		+NOTELESTOMP
		+NOTONAUTOMAP
		RenderStyle "None";
	}
	States
	{
	Spawn:
		TNT1 A 0;
		TNT1 A 0 A_JumpIf(CallACS("GunModeChecker") == True,"GunModeOn");
		Goto GunModeOff;
	GunModeOn:
		TNT1 A 0 A_SpawnItemEx("AA12AmmoDrum",0,0,0,0,0,0,random(0,359),PFlags,0,tid);
		Goto End;
	GunModeOff:
		TNT1 A 0 A_SpawnItemEx("PPGEnergyRocketBox",0,0,0,0,0,0,random(0,359),PFlags,0,tid);
	End:
		TNT1 A 1;
		Stop;
	}
}

Class PPGClip : Ammo { 
	Default {
		//$Category ammunition
		Inventory.PickupMessage "Picked up a 9mm clip.";
		Inventory.MaxAmount 240;
		Inventory.Amount	12;
		Ammo.BackpackAmount 6;
		Ammo.BackpackMaxAmount 240;
	}
	States
	{
	Spawn:
		CLIP A -1;
		Loop;
	}
}

Class PPGClipBox : PPGClip { 
	Default {
		Inventory.PickupMessage "Picked up a box of 9mm ammo.";
		Inventory.Amount	48;
	}
	States
	{
	Spawn:
		AMMO A -1;
		Loop;
	}
}

Class PPGShell : Ammo { 
	Default {
		//$Category ammunition
		Inventory.PickupMessage "Picked up four 12 gauge shotgun shells.";
		Inventory.MaxAmount 48;
		Inventory.Amount	4;
		Ammo.BackpackAmount 4;
		Ammo.BackpackMaxAmount 48;
	}
	States
	{
	Spawn:
		SHEL A -1;
		Loop;
	}
}

Class PPGShellBox : PPGShell { 
	Default {
		Inventory.PickupMessage "Picked up a box of shotgun shells.";
		Inventory.Amount 16;
	}
	States
	{
	Spawn:
		SBOX A -1;
		Loop;
	}
}

Class PPGRocketAmmo : RocketAmmo {}

Class PPGRocketBox : RocketBox {}